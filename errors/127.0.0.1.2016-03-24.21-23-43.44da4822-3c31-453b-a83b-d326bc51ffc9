(dp1
S'output'
p2
S"<class 'gluon.contrib.pg8000.ProgrammingError'> ('ERROR', '3F000', 'no schema has been selected to create in')"
p3
sS'layer'
p4
S'/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/models/db.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n\n## ----------------------------------------------------------------------------\n## This scaffolding model makes your app work on Google App Engine too\n## File is released under public domain and you can use without limitations\n## ----------------------------------------------------------------------------\n\n## if SSL/HTTPS is properly configured and you want all HTTP requests to\n## be redirected to HTTPS, uncomment the line below:\n# request.requires_https()\n\n## app configuration made easy. Look inside private/appconfig.ini\nfrom gluon.contrib.appconfig import AppConfig\nfrom gluon.tools import Recaptcha\n\n\n## once in production, remove reload=True to gain full speed\nmyconf = AppConfig(reload=True)\n\n\nif not request.env.web2py_runtime_gae:\n    ## if NOT running on Google App Engine use SQLite or other DB\n    \n    # ### postgres External\n    # postgres_connection = \'postgres://safe_admin:Safe2016@earthcape-pg.cx94g3kqgken.eu-west-1.rds.amazonaws.com/safe16\'\n    # db = DAL(postgres_connection, migrate_enabled=False) #, lazy_tables=True)\n    #\n    # ### MSSQL EXTERNAL\n    # external_db_config = dict(usr = \'earthcape\',\n    #                           pwd = \'Apollo1978\',\n    #                           srv = \'dgby1qwd2n.database.windows.net\',\n    #                           db  = \'SAFE15\',\n    #                           knd = \'mssql\',\n    #                           drv = \'FreeTDS\',\n    #                           prt = 1433,\n    #                           dsn = \'earthcape\')\n    # mssql_str = \'{knd}://{usr}:{pwd}@{srv}/{db}?DRIVER={{{drv}}}\'\n    # # alternative connection strings found on web, none of which work\n    # # mssql_str = \'{knd}://{usr}:{pwd}@{srv}/{db}\'\n    # # mssql_str = \'{knd}://DRIVER={{{drv}};SERVER={srv}\\{db},{prt};UID={usr};PWD={pwd}\'\n    # db = DAL(mssql_str.format(**external_db_config), migrate_enabled=False)\n    \n    # PG LOCAL setup\n    # NOTE - needs to have a created database: \'createdb dbname\'\n    # NOTE - experimenting with the lazy_tables options\n    connection = "postgres://test:test@localhost/safe_web2py"\n    \n    # deploy to MYSQL database on python_anywhere as testing environment\n    # connection = "mysql://DavidOrme:MonteCarloOrBust@DavidOrme.mysql.pythonanywhere-services.com/DavidOrme$safe_web2py"\n    \n    db = DAL(connection, lazy_tables=False)\n    \n    \n    # TODO - look at the myconf.take functionality and config file rather than hard coding\n    # db = DAL(myconf.take(\'db.uri\'), pool_size=myconf.take(\'db.pool_size\', cast=int), check_reserved=[\'all\'])\n    \nelse:\n    ## connect to Google BigTable (optional \'google:datastore://namespace\')\n    db = DAL(\'google:datastore+ndb\')\n    ## store sessions and tickets there\n    session.connect(request, response, db=db)\n    ## or store session in Memcache, Redis, etc.\n    ## from gluon.contrib.memdb import MEMDB\n    ## from google.appengine.api.memcache import Client\n    ## session.connect(request, response, db = MEMDB(Client()))\n\n## by default give a view/generic.extension to all actions from localhost\n## none otherwise. a pattern can be \'controller/function.extension\'\nresponse.generic_patterns = [\'*\'] if request.is_local else []\n## choose a style for forms\nresponse.formstyle = myconf.take(\'forms.formstyle\')  # or \'bootstrap3_stacked\' or \'bootstrap2\' or other\nresponse.form_label_separator = myconf.take(\'forms.separator\')\n\n## (optional) optimize handling of static files\n# response.optimize_css = \'concat,minify,inline\'\n# response.optimize_js = \'concat,minify,inline\'\n## (optional) static assets folder versioning\n# response.static_version = \'0.0.0\'\n\n## ----------------------------------------------------------------------------\n## ENABLE AUTH\n## - authentication (registration, login, logout, ... )\n## - authorization (role based authorization)\n## ----------------------------------------------------------------------------\n\nfrom gluon.tools import Auth #, Service, PluginManager\n\nauth = Auth(db)\n# service = Service()\n# plugins = PluginManager()\n\n\n## -----------------------------------------------------------------------------\n## EXTEND THE USER TABLE DEFINITION\n## -- defaults are: first_name, last_name, email, password\n##                  registration_key, reset_password_key, registration_id\n## -- legacy_user_id is purely for matching up imported users\n## -- integrate ORCid login\n## -- TODO - phone number formatting\n## -- TODO - enforcing not null - problematic with upload of legacy users\n## -----------------------------------------------------------------------------\n\nacademic_status_set = [\'Undergraduate\', \'Masters Student\',\n                       \'PhD Student\', \'Postdoc\', \'Research Fellow\', \'Faculty\',\n                       \'Volunteer\', \'Other\', \'SAFE Research Assistant\']\n\ntitles_set = [None, \'Dr\',\'Prof\', \'Assist. Prof\', \'Assoc. Prof\']\n\nauth.settings.extra_fields[\'auth_user\']= [\n    Field(\'title\', \'string\', requires=IS_IN_SET(titles_set)), \n    Field(\'nationality\', \'string\'),\n    Field(\'academic_status\', \'string\', requires=IS_IN_SET(academic_status_set)),\n    Field(\'orcid\', \'string\'),\n    Field(\'phone\', \'string\'),\n    Field(\'mobile_phone\', \'string\'),\n    Field(\'alternative_email\', \'string\', requires=IS_EMPTY_OR(IS_EMAIL())),\n    Field(\'institution\', \'string\'),\n    Field(\'institution_address\', \'string\'),\n    Field(\'institution_phone\', \'string\'),\n    Field(\'supervisor_id\', \'reference auth_user\'),\n    Field(\'legacy_user_id\',\'integer\')]\n\n## create auth tables \nauth.define_tables(username=False, signature=False)\n\n## suppress the legacy_user_id field as a general rule\ndb.auth_user.legacy_user_id.readable = False\ndb.auth_user.legacy_user_id.writable = False\n\n# set a string formatting for representing user ID\ndb.auth_user._format = \'%(last_name)s, %(first_name)s\'\n\n## configure auth policies\nauth.settings.registration_requires_verification = False\nauth.settings.registration_requires_approval = True\nauth.settings.reset_password_requires_verification = True\n\n# \nauth.settings.on_failed_authentication = lambda url: redirect(url)\n\n# TODO - turn on captcha for regiastration\n# auth.settings.register_captcha = Recaptcha()\n\n## -----------------------------------------------------------------------------\n## CONFIGURE EMAIL ACCOUNT SETTINGS \n## -- TODO - change to some kind of project admin email\n## -- TODO - implement email logging\n## -----------------------------------------------------------------------------\n\nmail = auth.settings.mailer\nmail.settings.server = \'smtp.cc.ic.ac.uk:25\' # \'logging\' if request.is_local else myconf.take(\'smtp.server\')\nmail.settings.sender = \'d.orme@imperial.ac.uk\'\nmail.settings.login = \'dorme:30AngryAardvarks\'\n\n\n## -----------------------------------------------------------------------------\n## SAFE TABLE DEFINITIONS\n## -- TODO - look at UUIDs in definitions for integration with EarthCape\n##           UUIDs - enable UUID in postgresql\n##           CREATE EXTENSION IF NOT EXISTS "uuid-ossp";\n##           uuid_generate_v4()\n## -----------------------------------------------------------------------------\n\n## -----------------------------------------------------------------------------\n## IMPORT the CKEDITOR PLUGIN TO GIVE A WYSIWYG EDITOR FOR BLOGS AND NEWS\n## -----------------------------------------------------------------------------\n\nfrom plugin_ckeditor import CKEditor\nckeditor = CKEditor(db)\nckeditor.define_tables()\n\n## -----------------------------------------------------------------------------\n## RCUK PROJECT SUBJECT TAGS\n## Populated by fixtures file\n## TODO - cut this giant list down to relevant ones\n## TODO - rethink implementation\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'rcuk_tags\',\n    Field(\'level\', \'integer\', notnull=True),\n    Field(\'subject\', \'string\'),\n    Field(\'topic\', \'string\'),\n    Field(\'tag\',  \'string\', notnull=True))\n\n\n## -----------------------------------------------------------------------------\n## -- USERS RESEARCH TAGS\n## -----------------------------------------------------------------------------\n\n# db.define_table(\'user_tags\',\n#     Field(\'user_id\', \'reference auth_user\'),\n#     Field(\'tag_id\', \'reference rcuk_tags\'))\n\n## -----------------------------------------------------------------------------\n## PROJECTS:\n## -- A table of the projects and then a table of members\n## -- Populated from fixtures file\n## -- \'legacy_project_id\': used only to match in links when loading old website data\n## -- TODO - think about use of list:string - they are a bit fugly but they do save tables\n## -- TODO - consider moving \'data_sharing\' to a T&C link extra (Manual p370)\n## -----------------------------------------------------------------------------\n\n# define some sets for controlled fields\n\nsites_set = [\'Old growth controls\', \'Logged forest controls\',\n             \'Logged forest edge\',\'Virgin Jungle Reserve\',\n             \'Fragments block A\',\'Fragments block B\',\n             \'Fragments block C\',\'Fragments block D\',\n             \'Fragments block E\', \'Fragments block F\',\n             \'Oil palm control\',\'Riparian strips\',\'Other\']\n\nspatial_scales_set = [\'First order\', \'Second order\', \'Third order\', \'Fourth order\', \'Other\']\n\nadmin_status_set = [\'Pending\', \'Approved\', \'Rejected\']\n\n# define table\n# - TODO - work out how to get represemntation to link to project pages\ndb.define_table(\'project\',\n    Field(\'picture\',\'upload\', uploadfolder= request.folder+\'/uploads/images/projects\'),\n    Field(\'title\',\'string\', notnull=True,\n          # represent = lambda value, row: A(row.title, _href=\'www.google.co.uk\')\n          ),\n    Field(\'project_home_country\',\'string\', notnull=True,\n          requires=IS_IN_SET([\'Malaysian\', \'International\'])),\n    Field(\'sampling_sites\', type=\'list:string\', \n          requires=IS_IN_SET(sites_set, multiple=True), \n          widget=SQLFORM.widgets.checkboxes.widget),\n    Field(\'sampling_scales\', type=\'list:string\', \n          requires=IS_IN_SET(spatial_scales_set, multiple=True), \n          widget=SQLFORM.widgets.checkboxes.widget),\n    Field(\'research_areas\', type=\'list:string\',\n          requires=IS_IN_DB(db, db.rcuk_tags.id, \'%(tag)s\', multiple=True), \n          widget=SQLFORM.widgets.multiple.widget),\n    Field(\'start_date\',\'date\', notnull=True),\n    Field(\'end_date\',\'date\', notnull=True),\n    Field(\'rationale\',\'text\', notnull=True),\n    Field(\'methods\',\'text\', notnull=True),\n    Field(\'requires_ra\',\'boolean\', notnull=True, default=False),\n    Field(\'requires_vehicle\',\'boolean\', notnull=True, default=False),\n    Field(\'resource_notes\',\'string\'),\n    Field(\'legacy_project_id\', \'integer\'), \n    Field(\'data_sharing\',\'boolean\', notnull=True),\n    # proposer id and date\n    Field(\'proposer_id\',\'reference auth_user\'),\n    Field(\'proposal_date\',\'date\'),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'),\n    # set the way the row is represented in foreign tables\n    format=\'%(title)s\'\n    ) \n\n## suppress the legacy_user_id field as a general rule\ndb.project.legacy_project_id.readable = False\ndb.project.legacy_project_id.writable = False\n\n\n## -----------------------------------------------------------------------------\n## PROJECT RESEARCH TAGS\n## -----------------------------------------------------------------------------\n\n# db.define_table(\'project\',\n#     Field(\'project_id\', \'reference project\'),\n#     Field(\'tag_id\', \'reference rcuk_tags\'))\n\n## -----------------------------------------------------------------------------\n## PROJECT MEMBERS AND THEIR ROLES\n## -- populated from fixtures file\n## -----------------------------------------------------------------------------\n\nproject_roles = [\'Main Contact\', \'Supervisor\', \'Co-supervisor\', \'PhD student\', \n                 \'MSc student\', \'PI\', \'Co-I\', \'Field Assistant\', \'Malaysian Collaborator\']\n\ndb.define_table(\'project_members\',\n    Field(\'project_id\', \'reference project\', notnull=True),\n    Field(\'user_id\', \'reference auth_user\', notnull=True),\n    Field(\'project_role\', requires=IS_IN_SET(project_roles), notnull=True))\n\n## -----------------------------------------------------------------------------\n## OUTPUTS\n## -- populated from fixtures file\n## -- \'legacy_output_id\': used only to match in links when loading old website data\n## -----------------------------------------------------------------------------\n\nformats = ["Book Chapter", "Journal Paper", "Other", "Poster", "Presentation", "MSc Thesis", "PhD Thesis"]\n\ndb.define_table(\'outputs\',\n    Field(\'picture\',\'upload\', uploadfolder= request.folder+\'/uploads/images/outputs\'),\n    Field(\'file\',\'upload\', uploadfolder= request.folder+\'/uploads/files/outputs\'),\n    Field(\'title\',\'string\', notnull=True),\n    Field(\'description\',\'text\', notnull=True),\n    Field(\'format\',\'string\', requires=IS_IN_SET(formats), notnull=True),\n    Field(\'citation\',\'string\', length=1024),\n    Field(\'doi\',\'string\', requires=IS_EMPTY_OR(IS_URL())),\n    Field(\'url\',\'string\', requires=IS_EMPTY_OR(IS_URL())),\n    Field(\'legacy_output_id\', \'integer\'), \n    # creator id and date\n    Field(\'creator_id\',\'reference auth_user\'),\n    Field(\'submission_date\',\'date\'),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'),\n    format=\'%(title)s\') # set the way the row is represented in foreign tables\n\n\ndb.define_table(\'project_outputs\',\n    Field(\'project_id\', \'reference project\', notnull=True),\n    Field(\'output_id\', \'reference outputs\', notnull=True),\n    Field(\'added_by\', \'reference auth_user\', notnull=True),\n    Field(\'date_added\', \'date\', notnull=True))\n\n\n## -----------------------------------------------------------------------------\n## MARKET PLACE\n## -----------------------------------------------------------------------------\n#\nvolunteer_type = [\'Voluntary experience\', \'Undergraduate Honours project\', \'Masters project\']\n\ndb.define_table(\'help_offered\',\n    Field(\'volunteer_id\', \'reference auth_user\'),\n    Field(\'submission_date\',\'date\'),\n    Field(\'volunteer_type\', requires=IS_IN_SET(volunteer_type), notnull=True),\n    Field(\'available_from\',\'date\', notnull=True),\n    Field(\'available_to\',\'date\', notnull=True),\n    Field(\'research_statement\',\'text\', notnull=True),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'))\n\ndb.define_table(\'help_request\',\n    Field(\'contact_id\', \'reference auth_user\', notnull=True),\n    Field(\'project_id\', \'reference project\', notnull=True),\n    Field(\'submission_date\',\'date\'),\n    Field(\'start_date\',\'date\', notnull=True),\n    Field(\'end_date\',\'date\', notnull=True),\n    Field(\'work_description\',\'text\', notnull=True),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'))\n\n## -----------------------------------------------------------------------------\n## VISITS\n## - two classes of thing:\n##   1) approval of a bed reservation to stay at SAFE. Can be entirely unassociated\n##      with a research visit for a project for look-see type bookings\n##   2) a booking for people working on an existing approved visit\n## -----------------------------------------------------------------------------\n\n# not sure where to put global variable definitions!\nn_beds_available = 25\n\ndb.define_table(\'research_visit\',\n    Field(\'project_id\', \'reference project\', notnull=True),\n    Field(\'title\', \'string\', notnull=True),\n    Field(\'arrival_date\',\'date\', notnull=True),\n    Field(\'departure_date\',\'date\', notnull=True),\n    Field(\'purpose\',\'text\', notnull=True),\n    Field(\'licence_details\', \'string\'),\n    # The fields below identify who made the reservation and when\n    Field(\'proposer_id\', \'reference auth_user\'),\n    Field(\'proposal_date\', \'date\'),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'))\n\n\ndb.define_table(\'research_visit_member\',\n    Field(\'research_visit_id\', \'reference research_visit\', notnull=True),\n    Field(\'user_id\', \'reference auth_user\', notnull=True))\n\n# project and visit ID _can_ be null for look-see visits, so don\'t make them \n# a fixed \'reference\' and let the controllers handle validation\n# could limit number_of_visitors using  requires=IS_INT_IN_RANGE(1,n_beds_available)\n# but let the controllers handle that, so we don\'t restrict admin bookings\ndb.define_table(\'bed_reservations\',\n    Field(\'research_visit_id\', \'integer\', requires=IS_EMPTY_OR(IS_IN_DB(db, db.research_visit.id, \'%(title)s\'))),\n    Field(\'arrival_date\',\'date\', notnull=True),\n    Field(\'departure_date\',\'date\', notnull=True),\n    Field(\'number_of_visitors\',\'integer\', notnull=True),\n    Field(\'purpose\',\'text\', notnull=True),\n    Field(\'look_see_visit\',\'boolean\', notnull=True, default=False),\n    # The fields below identify who made the reservation and when\n    Field(\'reserver_id\', \'reference auth_user\'),\n    Field(\'reservation_date\', \'date\'),\n    # The fields below are to handle approval of new records\n    Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n    Field(\'admin_id\',\'reference auth_user\'),\n    Field(\'admin_notes\',\'text\'),\n    Field(\'admin_decision_date\',\'date\'))\n\n\n# this table is used internally to keep track of available beds\ndb.define_table(\'bed_data\',\n    Field(\'day\',\'date\'),\n    Field(\'approved\', \'integer\'),\n    Field(\'pending\', \'integer\'))\n\n\n## -----------------------------------------------------------------------------\n## H & S\n## -- visitor details and health and safety at user level\n## -- full H&S for all named users for now.\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'health_and_safety\',\n    Field(\'user_id\', \'reference auth_user\'),\n    # Field(\'project_id\', \'reference project\'),\n    # Field(\'visit_id\', \'reference visit\'),\n    Field(\'passport_number\', \'string\', notnull=True),\n    Field(\'emergency_contact_name\', \'string\', notnull=True),\n    Field(\'emergency_contact_address\', \'text\', notnull=True),\n    Field(\'emergency_contact_phone\', \'string\', notnull=True),\n    Field(\'emergency_contact_email\', \'string\', requires=IS_EMAIL()),\n    Field(\'insurance_company\', \'string\', notnull=True),\n    Field(\'insurance_emergency_phone\', \'string\', notnull=True),\n    Field(\'insurance_policy_number\', \'string\', notnull=True),\n    Field(\'medical_conditions\', \'text\'),\n    Field(\'date_last_edited\', \'date\'),\n    #Field(\'sbc_access_licence\', \'string\'),\n    #Field(\'local_collaborator\', \'reference auth_user\')\n    )\n\n# -- in order to book in a visit, may need to book RA time\n#\n# -- associate an RA with a booking\n# -- TODO but this also needs to integrate with RA bookings for core research\n# CREATE TABLE project_admin.research_associate_booking (\n#     ra_booking_id SERIAL PRIMARY KEY,\n#     visit_id integer reference project_admin.visit not null,\n#     research_associate_id integer reference project_admin.user not null\n# );\n#\n# -- create a trigger to check that Ewers, R has not been selected from the the user list?\n#\n#\n# -- could create server side triggers to verify:\n# --  * that an RA isn\'t booked\n# --  * that the number of bunks is ok\n#\n\n\n## -----------------------------------------------------------------------------\n## SPECIES PROFILES\n## TODO - provide static photo upload\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'species_profile\',\n                Field(\'binomial\', \'string\'),\n                Field(\'common_name\', \'string\'),\n                Field(\'iucn_status\', \'string\', \n                      requires=IS_IN_SET([\'Not Evaluated\', \'Data Deficient\', \'Least Concern\', \'Near Threatened\',\n                                          \'Vulnerable\', \'Endangered\', \'Critically Endangered\',\'Extinct in the Wild\', \'Extinct\'])),\n                Field(\'global_population\', \'string\',\n                      requires=IS_IN_SET([\'increasing\', \'decreasing\', \'unknown\',\'stable\'])),\n                Field(\'local_abundance\', \'string\',\n                      requires=IS_IN_SET([\'commonly seen\',\'often seen\',\'sometimes seen\',\'rarely seen\'])),\n                Field(\'in_primary\', \'boolean\'),\n                Field(\'in_logged\', \'boolean\'),\n                Field(\'in_plantation\', \'boolean\'),\n                Field(\'animal_facts\', \'text\'),\n                Field(\'where_do_they_live\', \'text\'),\n                Field(\'habitat\', \'text\'),\n                Field(\'what_do_they_eat\', \'text\'),\n                Field(\'who_eats_them\', \'text\'),\n                Field(\'threatened_by\', \'text\'),\n                Field(\'image_link\', \'string\', requires=IS_NULL_OR(IS_URL())), # e.g. link to static flickr farm\n                Field(\'image_href\', \'string\', requires=IS_NULL_OR(IS_URL())), # e.g. link to flickr user photo page \n                Field(\'image_title\', \'string\'),\n                Field(\'google_scholar_link\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'wikipedia_link\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'eol_link\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'iucn_link\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'arkive_link\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'gbif_link\', \'string\', requires=IS_NULL_OR(IS_URL())))\n\n\n## -----------------------------------------------------------------------------\n## CONTACTS\n## - this is purely used to populate the contact table and to provide an admin\n##   interface to maintaining it.\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'safe_contacts\',\n                Field(\'display_name\', \'string\'), # i.e. Title etc\n                Field(\'contact_type\', \'string\', \n                      requires=IS_IN_SET([\'Management Team\', \'Science Advisory Committee\',\n                                          \'Malaysian Collaborators\',\'Field Team\'])),\n                Field(\'role\', \'string\'),\n                Field(\'picture\',\'upload\', uploadfolder= request.folder+\'/uploads/images/contacts\'),\n                Field(\'institution\', \'string\'),\n                Field(\'address\', \'string\'),\n                Field(\'email\', \'string\', requires=IS_NULL_OR(IS_EMAIL())),\n                Field(\'website\', \'string\', requires=IS_NULL_OR(IS_URL())),\n                Field(\'taxonomic_speciality\', \'string\'))\n                \n\n## -----------------------------------------------------------------------------\n## BLOG\n## -- a simple table to get blog posts into the website\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'blog_posts\',\n                Field(\'thumbnail_figure\', \'upload\', uploadfolder= request.folder+\'/uploads/images/blog_thumbnails\'),\n                Field(\'authors\', \'string\'),\n                Field(\'title\', \'string\'),\n                Field(\'content\', \'text\', widget=ckeditor.widget),\n                # who posted it and when\n                Field(\'poster_id\', \'reference auth_user\'),\n                Field(\'date_posted\', \'date\'),\n                # The fields below are to handle approval of new records\n                Field(\'admin_status\',\'string\', requires=IS_IN_SET(admin_status_set), default=\'Pending\'), \n                Field(\'admin_id\',\'reference auth_user\'),\n                Field(\'admin_notes\',\'text\'),\n                Field(\'admin_decision_date\',\'date\'))\n\n\n## -----------------------------------------------------------------------------\n## NEWS\n## -- a simple table to hold news post contents\n## -- these have to be posted by an admin, so no approval fields\n## -- they don\'t have authors (although the poster is recorded)\n## -----------------------------------------------------------------------------\n\ndb.define_table(\'news_posts\',\n                Field(\'thumbnail_figure\', \'upload\', uploadfolder= request.folder+\'/uploads/images/news_thumbnails\'),\n                Field(\'title\', \'string\'),\n                Field(\'content\', \'text\', widget=ckeditor.widget),\n                # who posted it and when\n                Field(\'poster_id\', \'reference auth_user\'),\n                Field(\'date_posted\', \'date\'))\n\n## after defining tables, uncomment below to enable auditing\n# auth.enable_record_versioning(db)\n\n\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__module__'
p12
S"'gluon.contrib.pg8000'"
p13
sS'__getslice__'
p14
S"<method-wrapper '__getslice__' of ProgrammingError object>"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of ProgrammingError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of ProgrammingError object>'
p19
sS'__dict__'
p20
S'{}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of ProgrammingError object>'
p23
sS'__weakref__'
p24
S'None'
p25
sS'__init__'
p26
S"<method-wrapper '__init__' of ProgrammingError object>"
p27
sS'__setattr__'
p28
S"<method-wrapper '__setattr__' of ProgrammingError object>"
p29
sS'__reduce_ex__'
p30
S'<built-in method __reduce_ex__ of ProgrammingError object>'
p31
sS'__new__'
p32
S'<built-in method __new__ of type object>'
p33
sS'__format__'
p34
S'<built-in method __format__ of ProgrammingError object>'
p35
sS'__class__'
p36
S"<class 'gluon.contrib.pg8000.ProgrammingError'>"
p37
sS'__doc__'
p38
S"'Generic exception raised for programming errors....http://www.python.org/dev/peps/pep-0249/>`_.\\n    '"
p39
sS'__getitem__'
p40
S"<method-wrapper '__getitem__' of ProgrammingError object>"
p41
sS'__setstate__'
p42
S'<built-in method __setstate__ of ProgrammingError object>'
p43
sS'__getattribute__'
p44
S"<method-wrapper '__getattribute__' of ProgrammingError object>"
p45
sS'args'
p46
S"('ERROR', '3F000', 'no schema has been selected to create in')"
p47
sS'__subclasshook__'
p48
S'<built-in method __subclasshook__ of type object>'
p49
sS'__unicode__'
p50
S'<built-in method __unicode__ of ProgrammingError object>'
p51
sS'__delattr__'
p52
S"<method-wrapper '__delattr__' of ProgrammingError object>"
p53
sS'__repr__'
p54
S"<method-wrapper '__repr__' of ProgrammingError object>"
p55
sS'__hash__'
p56
S"<method-wrapper '__hash__' of ProgrammingError object>"
p57
ssS'evalue'
p58
S"('ERROR', '3F000', 'no schema has been selected to create in')"
p59
sS'request'
p60
cgluon.html
XML_unpickle
p61
(S'sC}\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>SAFE_web</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">ckCsrfToken</td><td style="vertical-align:top;">:</td><td><div>zEFPDt3elRX5B3BSntrjWWU0YDmVqax77Llwfa40<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">csrftoken</td><td style="vertical-align:top;">:</td><td><div>ikREEuTW3OsYoKB4z6PI4WMWkQTuO1Vp<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_examples</td><td style="vertical-align:top;">:</td><td><div>5b3ef0c5e37da0cb28ee4b40d1c2c55d:sZF_QWPK-PPuyehpVT5DsqTTMgyFRBs2Ub73OcD4cFQn_viD8E7th5I0hIZ-kP3Uj1Sd-xF5LMIidQGf61V3iAH2thTaN3PCooyRVVFU2XG5JLhPtuKDl3QzO4YcC5OfDbJZjVf7g4aRe30YGKu5QR1nx11jd5ShD8Ns-JU7jOEHgcX9QlD5igMztwOUK4VKksxib6neoKi-z6BcmRA3oTemdbIeazZ7k-OoRzkusZ0OZ7D4cqKyPgJl-v_YTfOmgJs9-7dH8kuBBF5iP78PatZKTnr7PsP89yVQ6mBuphvh9UDL5g2zF06H4NS7OMoJtuG3PpySBjYEjHegxYAcc70X0OZF5uKoaeTIPVNoZBW0k8w_mpO-vOAKsJAcAzsK1OvFVp1wMxx-wjL1f2UEoWqafncz-cnHEFwMEEzrwAgVateLgChwdUV3vTQ5-H7hjzc82dADZaHQmMMbOcmK8kTsrqsbHGH__TOKVkAc6j0=<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-9aa5ded4-fc56-45d0-9b61-77955fb8301c<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_examples</td><td style="vertical-align:top;">:</td><td><div>True<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_safe</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-72b7a28a-f922-43bd-b334-b6137a76cae6<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_safe_web</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-1abc5280-082e-42dc-87a3-b91a8a26f4b2<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-4ec3f6b5-440c-4c1f-b03f-a90ad6ae6ec3<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>csrftoken=ikREEuTW3OsYoKB4z6PI4WMWkQTuO1Vp; session_id_safe=127.0.0.1-72b7a28a-f922-43bd-b334-b6137a76cae6; session_data_examples=&quot;5b3ef0c5e37da0cb28ee4b40d1c2c55d:sZF_QWPK-PPuyehpVT5DsqTTMgyFRBs2Ub73OcD4cFQn_viD8E7th5I0hIZ-kP3Uj1Sd-xF5LMIidQGf61V3iAH2thTaN3PCooyRVVFU2XG5JLhPtuKDl3QzO4YcC5OfDbJZjVf7g4aRe30YGKu5QR1nx11jd5ShD8Ns-JU7jOEHgcX9QlD5igMztwOUK4VKksxib6neoKi-z6BcmRA3oTemdbIeazZ7k-OoRzkusZ0OZ7D4cqKyPgJl-v_YTfOmgJs9-7dH8kuBBF5iP78PatZKTnr7PsP89yVQ6mBuphvh9UDL5g2zF06H4NS7OMoJtuG3PpySBjYEjHegxYAcc70X0OZF5uKoaeTIPVNoZBW0k8w_mpO-vOAKsJAcAzsK1OvFVp1wMxx-wjL1f2UEoWqafncz-cnHEFwMEEzrwAgVateLgChwdUV3vTQ5-H7hjzc82dADZaHQmMMbOcmK8kTsrqsbHGH__TOKVkAc6j0=&quot;; session_id_examples=True; ckCsrfToken=zEFPDt3elRX5B3BSntrjWWU0YDmVqax77Llwfa40; session_id_safe_web=127.0.0.1-1abc5280-082e-42dc-87a3-b91a8a26f4b2; session_id_welcome=127.0.0.1-4ec3f6b5-440c-4c1f-b03f-a90ad6ae6ec3; session_id_admin=127.0.0.1-9aa5ded4-fc56-45d0-9b61-77955fb8301c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/admin/default/site</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_UPGRADE_INSECURE_REQUESTS</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/SAFE_web/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>51049</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>Davids-MacBook-Pro.local</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/admin/&#x27;, &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/welcome/&#x27;, &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x10437d050: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;fe80::a65e:60ff:feeb:b729%en0&#x27;, &#x27;192.168.1.73&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Davids-MacBook-Pro.local&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate, sdch</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>csrftoken=ikREEuTW3OsYoKB4z6PI4WMWkQTuO1Vp; session_id_safe=127.0.0.1-72b7a28a-f922-43bd-b334-b6137a76cae6; session_data_examples=&quot;5b3ef0c5e37da0cb28ee4b40d1c2c55d:sZF_QWPK-PPuyehpVT5DsqTTMgyFRBs2Ub73OcD4cFQn_viD8E7th5I0hIZ-kP3Uj1Sd-xF5LMIidQGf61V3iAH2thTaN3PCooyRVVFU2XG5JLhPtuKDl3QzO4YcC5OfDbJZjVf7g4aRe30YGKu5QR1nx11jd5ShD8Ns-JU7jOEHgcX9QlD5igMztwOUK4VKksxib6neoKi-z6BcmRA3oTemdbIeazZ7k-OoRzkusZ0OZ7D4cqKyPgJl-v_YTfOmgJs9-7dH8kuBBF5iP78PatZKTnr7PsP89yVQ6mBuphvh9UDL5g2zF06H4NS7OMoJtuG3PpySBjYEjHegxYAcc70X0OZF5uKoaeTIPVNoZBW0k8w_mpO-vOAKsJAcAzsK1OvFVp1wMxx-wjL1f2UEoWqafncz-cnHEFwMEEzrwAgVateLgChwdUV3vTQ5-H7hjzc82dADZaHQmMMbOcmK8kTsrqsbHGH__TOKVkAc6j0=&quot;; session_id_examples=True; ckCsrfToken=zEFPDt3elRX5B3BSntrjWWU0YDmVqax77Llwfa40; session_id_safe_web=127.0.0.1-1abc5280-082e-42dc-87a3-b91a8a26f4b2; session_id_welcome=127.0.0.1-4ec3f6b5-440c-4c1f-b03f-a90ad6ae6ec3; session_id_admin=127.0.0.1-9aa5ded4-fc56-45d0-9b61-77955fb8301c</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/admin/default/site</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_upgrade_insecure_requests</td><td style="vertical-align:top;">:</td><td><div>1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fe80::a65e:60ff:feeb:b729%en0</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>192.168.1.73</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>Davids-MacBook-Pro.local</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/SAFE_web/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>51049</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>GET</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/SAFE_web/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>Davids-MacBook-Pro.local</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.13.2-stable+timestamp.2015.12.18.11.00.46</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x1002971e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x10430a738&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x10bd9fb50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x1002971e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x10430a738&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x10bd9fb50&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/admin/&#x27;, &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/welcome/&#x27;, &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x10437d050: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;ips&#x27;: [&#x27;fe80::a65e:60ff:feeb:b729%en0&#x27;, &#x27;192.168.1.73&#x27;], &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;scheduler_groups&#x27;: None, &#x27;port&#x27;: 8000, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Davids-MacBook-Pro.local&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/Users/dorme/Research/SAFE/Web2Py/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;&lt;ask&gt;&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fe80::a65e:60ff:feeb:b729%en0</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>192.168.1.73</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>Davids-MacBook-Pro.local</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.13.2-stable+timestamp.2015.12.18.11.00.46</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_scheduler</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 3, 24, 21, 23, 43, 525783)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/SAFE_web/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 3, 24, 21, 23, 43, 525790)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x10ea6ae10&gt;</div></td></tr></table></div>'
tRp62
sS'frames'
p63
(lp64
(dp65
S'file'
p66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/restricted.py'
p67
sS'dump'
p68
(dp69
S'environment'
p70
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}"
p71
sS'ccode'
p72
S'<code object <module> at 0x10ea62330, file "/Use...2py/applications/SAFE_web/models/db.py", line 13>'
p73
ssS'lnum'
p74
I227
sS'lines'
p75
(dp76
I224
S'            ccode = code'
p77
sI225
S'        else:'
p78
sI226
S'            ccode = compile2(code, layer)'
p79
sI227
S'        exec ccode in environment'
p80
sI228
S'    except HTTP:'
p81
sI229
S'        raise'
p82
sI230
S'    except RestrictedError:'
p83
sI231
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p84
sI222
S'    try:'
p85
sI223
S'        if isinstance(code, types.CodeType):'
p86
ssS'call'
p87
S"(code='# -*- coding: utf-8 -*-\\n\\n## --------------------...e auditing\\n# auth.enable_record_versioning(db)\\n\\n\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}, layer='/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/models/db.py')"
p88
sS'func'
p89
S'restricted'
p90
sa(dp91
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/models/db.py'
p92
sg68
(dp93
S'username'
p94
S'undefined'
p95
sS'auth.define_tables'
p96
S'<bound method Auth.define_tables of <gluon.tools.Auth object>>'
p97
sS'builtinFalse'
p98
S'False'
p99
sS'auth'
p100
S'<gluon.tools.Auth object>'
p101
sS'signature'
p102
g95
ssg74
I124
sg75
(dp103
I128
S'db.auth_user.legacy_user_id.writable = False'
p104
sI119
S"    Field('institution_phone', 'string'),"
p105
sI120
S"    Field('supervisor_id', 'reference auth_user'),"
p106
sI121
S"    Field('legacy_user_id','integer')]"
p107
sI122
S''
sI123
S'## create auth tables'
p108
sI124
S'auth.define_tables(username=False, signature=False)'
p109
sI125
S''
sI126
S'## suppress the legacy_user_id field as a general rule'
p110
sI127
S'db.auth_user.legacy_user_id.readable = False'
p111
ssg87
S'()'
p112
sg89
S'<module>'
p113
sa(dp114
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/tools.py'
p115
sg68
(dp116
S'builtinformat'
p117
S'<built-in function format>'
p118
ssg74
I2059
sg75
(dp119
I2054
S'                    *extra_fields,'
p120
sI2055
S'                    **dict('
p121
sI2056
S'                        migrate=self.__get_migrate(settings.table_user_name,'
p122
sI2057
S'                                                   migrate),'
p123
sI2058
S'                        fake_migrate=fake_migrate,'
p124
sI2059
S"                        format='%(first_name)s %(last_name)s (%(id)s)'))"
p125
sI2060
S"        reference_table_user = 'reference %s' % settings.table_user_name"
p126
sI2061
S'        if settings.table_group_name not in db.tables:'
p127
sI2062
S'            extra_fields = settings.extra_fields.get('
p128
sI2063
S'                settings.table_group_name, []) + signature_list'
p129
ssg87
S'(self=<gluon.tools.Auth object>, username=False, signature=False, enable_tokens=False, migrate=True, fake_migrate=False)'
p130
sg89
S'define_tables'
p131
sa(dp132
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/base.py'
p133
sg68
(dp134
S'fields'
p135
S'(<pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>)'
p136
sS'self'
p137
S'<DAL uri="postgres:******@localhost/safe_web2py">'
p138
sS'args'
p139
S"{'fake_migrate': False, 'format': '%(first_name)s %(last_name)s (%(id)s)', 'migrate': True}"
p140
sS'tablename'
p141
S"'auth_user'"
p142
sS'table'
p143
g95
sS'self.lazy_define_table'
p144
S'<bound method DAL.lazy_define_table of <DAL uri="postgres:******@localhost/safe_web2py">>'
p145
ssg74
I834
sg75
(dp146
I832
S'            table = None'
p147
sI833
S'        else:'
p148
sI834
S'            table = self.lazy_define_table(tablename,*fields,**args)'
p149
sI835
S'        if not tablename in self.tables:'
p150
sI836
S'            self.tables.append(tablename)'
p151
sI837
S'        return table'
p152
sI838
S''
sI829
S'                    % (tablename,invalid_args))'
p153
sI830
S'        if self._lazy_tables and tablename not in self._LAZY_TABLES:'
p154
sI831
S'            self._LAZY_TABLES[tablename] = (tablename,fields,args)'
p155
ssg87
S'(self=<DAL uri="postgres:******@localhost/safe_web2py">, tablename=\'auth_user\', *fields=(<pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>), **args={\'fake_migrate\': False, \'format\': \'%(first_name)s %(last_name)s (%(id)s)\', \'migrate\': True})'
p156
sg89
S'define_table'
p157
sa(dp158
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/base.py'
p159
sg68
(dp160
S'polymodel'
p161
S'None'
p162
ssg74
I873
sg75
(dp163
I868
S'            try:'
p164
sI869
S'                GLOBAL_LOCKER.acquire()'
p165
sI870
S'                self._lastsql = self._adapter.create_table('
p166
sI871
S'                    table,migrate=migrate,'
p167
sI872
S'                    fake_migrate=fake_migrate,'
p168
sI873
S'                    polymodel=polymodel)'
p169
sI874
S'            finally:'
p170
sI875
S'                GLOBAL_LOCKER.release()'
p171
sI876
S'        else:'
p172
sI877
S'            table._dbt = None'
p173
ssg87
S'(self=<DAL uri="postgres:******@localhost/safe_web2py">, tablename=\'auth_user\', *fields=(<pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>, <pydal.objects.Field object>), **args={\'fake_migrate\': False, \'format\': \'%(first_name)s %(last_name)s (%(id)s)\', \'migrate\': True})'
p174
sg89
S'lazy_define_table'
p175
sa(dp176
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py'
p177
sg68
(dp178
S'query'
p179
S"'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY KE...N DELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);'"
p180
sS'self'
p181
S'<pydal.adapters.postgres.PostgreSQLAdapter object>'
p182
sS'table'
p183
S'<Table auth_user (id,first_name,last_name,email,...,institution_phone,supervisor_id,legacy_user_id)>'
p184
sS'self.create_sequence_and_triggers'
p185
S'<bound method PostgreSQLAdapter.create_sequence_...ydal.adapters.postgres.PostgreSQLAdapter object>>'
p186
ssg74
I482
sg75
(dp187
I480
S'                            query), table)'
p188
sI481
S'            if not fake_migrate:'
p189
sI482
S'                self.create_sequence_and_triggers(query, table)'
p190
sI483
S'                db.commit()'
p191
sI484
S'                # Postgres geom fields are added now,'
p192
sI485
S'                # after the table has been created'
p193
sI486
S'                for query in postcreation_fields:'
p194
sI477
S'            if table._dbt:'
p195
sI478
S"                self.log('timestamp: %s\\n%s\\n'"
p196
sI479
S'                         % (datetime.datetime.today().isoformat(),'
p197
ssg87
S'(self=<pydal.adapters.postgres.PostgreSQLAdapter object>, table=<Table auth_user (id,first_name,last_name,email,...,institution_phone,supervisor_id,legacy_user_id)>, migrate=True, fake_migrate=False, polymodel=None)'
p198
sg89
S'create_table'
p199
sa(dp200
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/postgres.py'
p201
sg68
(dp202
S'query'
p203
S"'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY KE...N DELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);'"
p204
sS'self'
p205
S'<pydal.adapters.postgres.PostgreSQLAdapter object>'
p206
sS'self.execute'
p207
S'<bound method PostgreSQLAdapter.execute of <pydal.adapters.postgres.PostgreSQLAdapter object>>'
p208
ssg74
I94
sg75
(dp209
I96
S"    REGEX_URI = re.compile('^(?P<user>[^:@]+)(\\:(?P<password>[^@]*))?@(?P<host>\\[[^/]+\\]|[^\\:@]+)(\\:(?P<port>[0-9]+))?/(?P<db>[^\\?]+)(\\?sslmode=(?P<sslmode>.+))?$')"
p210
sI97
S''
sI98
S"    def __init__(self, db,uri, pool_size=0, folder=None, db_codec ='UTF-8',"
p211
sI89
S'    def create_sequence_and_triggers(self, query, table, **args):'
p212
sI90
S'        # following lines should only be executed if table._sequence_name does not exist'
p213
sI91
S"        # self.execute('CREATE SEQUENCE %s;' % table._sequence_name)"
p214
sI92
S'        # self.execute("ALTER TABLE %s ALTER COLUMN %s SET DEFAULT NEXTVAL(\'%s\');" \\'
p215
sI93
S'        #              % (table._tablename, table._fieldname, table._sequence_name))'
p216
sI94
S'        self.execute(query)'
p217
sI95
S''
ssg87
S"(self=<pydal.adapters.postgres.PostgreSQLAdapter object>, query='CREATE TABLE auth_user(\\n    id SERIAL PRIMARY KE...N DELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);', table=<Table auth_user (id,first_name,last_name,email,...,institution_phone,supervisor_id,legacy_user_id)>, **args={})"
p218
sg89
S'create_sequence_and_triggers'
p219
sa(dp220
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/postgres.py'
p221
sg68
(dp222
S'a'
S"[u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);']"
p223
sS'self'
p224
S'<pydal.adapters.postgres.PostgreSQLAdapter object>'
p225
sS'b'
g21
sS'BaseAdapter.execute'
p226
S'<unbound method BaseAdapter.execute>'
p227
sS'global BaseAdapter'
p228
S"<class 'pydal.adapters.base.BaseAdapter'>"
p229
ssg74
I360
sg75
(dp230
I355
S''
sI356
S'    def execute(self, *a, **b):'
p231
sI357
S'        if PY2 and self.driver_name == "pg8000":'
p232
sI358
S'            a = list(a)'
p233
sI359
S"            a[0] = a[0].decode('utf8')"
p234
sI360
S'        return BaseAdapter.execute(self, *a, **b)'
p235
sI361
S''
sI362
S''
sI363
S'class NewPostgreSQLAdapter(PostgreSQLAdapter):'
p236
sI364
S"    drivers = ('psycopg2','pg8000')"
p237
ssg87
S"(self=<pydal.adapters.postgres.PostgreSQLAdapter object>, *a=[u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);'], **b={})"
p238
sg89
S'execute'
p239
sa(dp240
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py'
p241
sg68
(dp242
S'a'
S"(u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);',)"
p243
sS'self'
p244
S'<pydal.adapters.postgres.PostgreSQLAdapter object>'
p245
sS'b'
g21
sS'self.log_execute'
p246
S'<bound method PostgreSQLAdapter.log_execute of <pydal.adapters.postgres.PostgreSQLAdapter object>>'
p247
ssg74
I1385
sg75
(dp248
I1380
S'        self.db._timings.append((command,time.time()-t0))'
p249
sI1381
S'        del self.db._timings[:-TIMINGSSIZE]'
p250
sI1382
S'        return ret'
p251
sI1383
S''
sI1384
S'    def execute(self, *a, **b):'
p252
sI1385
S'        return self.log_execute(*a, **b)'
p253
sI1386
S''
sI1387
S'    def execute_test_query(self):'
p254
sI1388
S'        return self.execute(self.test_query)'
p255
sI1389
S''
ssg87
S"(self=<pydal.adapters.postgres.PostgreSQLAdapter object>, *a=(u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);',), **b={})"
p256
sg89
g239
sa(dp257
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py'
p258
sg68
(dp259
S'a'
S"(u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);',)"
p260
sS'b'
g21
sS'self'
p261
S'<pydal.adapters.postgres.PostgreSQLAdapter object>'
p262
sS'ret'
p263
g95
sS'command'
p264
S"u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);'"
p265
sS'self.get_cursor'
p266
S'<bound method PostgreSQLAdapter.get_cursor of <pydal.adapters.postgres.PostgreSQLAdapter object>>'
p267
sS').execute'
p268
g95
ssg74
I1379
sg75
(dp269
I1376
S"            self.db.logger.debug('SQL: %s' % command)"
p270
sI1377
S'        self.db._lastsql = command'
p271
sI1378
S'        t0 = time.time()'
p272
sI1379
S'        ret = self.get_cursor().execute(command, *a[1:], **b)'
p273
sI1380
S'        self.db._timings.append((command,time.time()-t0))'
p274
sI1381
S'        del self.db._timings[:-TIMINGSSIZE]'
p275
sI1382
S'        return ret'
p276
sI1383
S''
sI1374
S'            command = self.filter_sql_command(command)'
p277
sI1375
S'        if self.db._debug:'
p278
ssg87
S"(self=<pydal.adapters.postgres.PostgreSQLAdapter object>, *a=(u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);',), **b={})"
p279
sg89
S'log_execute'
p280
sa(dp281
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py'
p282
sg68
(dp283
S'self'
p284
S'<gluon.contrib.pg8000.core.Cursor instance>'
p285
sS'args'
p286
S'None'
p287
sS'self._c.execute'
p288
S'<bound method Connection.execute of <gluon.contrib.pg8000.core.Connection object>>'
p289
sS'self._c'
p290
S'<gluon.contrib.pg8000.core.Connection object>'
p291
sS'operation'
p292
S"u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);'"
p293
ssg74
I573
sg75
(dp294
I576
S'                raise InterfaceError("Cursor closed")'
p295
sI577
S'            elif self._c._sock is None:'
p296
sI568
S'            self._c._lock.acquire()'
p297
sI569
S'            self.stream = stream'
p298
sI570
S''
sI571
S'            if not self._c.in_transaction and not self._c.autocommit:'
p299
sI572
S'                self._c.execute(self, "begin transaction", None)'
p300
sI573
S'            self._c.execute(self, operation, args)'
p301
sI574
S'        except AttributeError:'
p302
sI575
S'            if self._c is None:'
p303
ssg87
S"(self=<gluon.contrib.pg8000.core.Cursor instance>, operation=u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);', args=None, stream=None)"
p304
sg89
g239
sa(dp305
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py'
p306
sg68
(dp307
S'cursor'
p308
S'<gluon.contrib.pg8000.core.Cursor instance>'
p309
sS'self.handle_messages'
p310
S'<bound method Connection.handle_messages of <gluon.contrib.pg8000.core.Connection object>>'
p311
sS'self'
p312
S'<gluon.contrib.pg8000.core.Connection object>'
p313
ssg74
I1697
sg75
(dp314
I1696
S'        self._flush()'
p315
sI1697
S'        self.handle_messages(cursor)'
p316
sI1698
S'        if cursor.portal_suspended:'
p317
sI1699
S'            if self.autocommit:'
p318
sI1700
S'                raise InterfaceError('
p319
sI1701
S'                    "With autocommit on, it\'s not possible to retrieve more "'
p320
sI1692
S''
sI1693
S'        self._send_message(BIND, retval)'
p321
sI1694
S'        self.send_EXECUTE(cursor)'
p322
sI1695
S'        self._write(SYNC_MSG)'
p323
ssg87
S"(self=<gluon.contrib.pg8000.core.Connection object>, cursor=<gluon.contrib.pg8000.core.Cursor instance>, operation=u'CREATE TABLE auth_user(\\n    id SERIAL PRIMARY...ELETE CASCADE  ,\\n    legacy_user_id INTEGER\\n);', vals=())"
p324
sg89
g239
sa(dp325
g66
S'/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py'
p326
sg68
(dp327
S'self'
p328
S'<gluon.contrib.pg8000.core.Connection object>'
p329
sS'self.error'
p330
S"ProgrammingError('ERROR', '3F000', 'no schema has been selected to create in')"
p331
ssg74
I1774
sg75
(dp332
I1769
S'        except:'
p333
sI1770
S'            self._close()'
p334
sI1771
S'            raise'
p335
sI1772
S''
sI1773
S'        if self.error is not None:'
p336
sI1774
S'            raise self.error'
p337
sI1775
S''
sI1776
S"    # Byte1('C') - Identifies the message as a close command."
p338
sI1777
S'    # Int32 - Message length, including self.'
p339
sI1778
S"    # Byte1 - 'S' for prepared statement, 'P' for portal."
p340
ssg87
S'(self=<gluon.contrib.pg8000.core.Connection object>, cursor=<gluon.contrib.pg8000.core.Cursor instance>)'
p341
sg89
S'handle_messages'
p342
sasS'pyver'
p343
S'Python 2.7.11: /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python (prefix: /Library/Frameworks/Python.framework/Versions/2.7)'
p344
sS'session'
p345
g61
(S's\x1a\x00\x00\x00<div><table></table></div>'
tRp346
sS'etype'
p347
S"<class 'gluon.contrib.pg8000.ProgrammingError'>"
p348
sS'date'
p349
S'Thu Mar 24 21:23:43 2016'
p350
sS'response'
p351
g61
(S's\xd4\x16\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x10f2789d0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_safe_web</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-e985f3be-1e12-4b8f-a4b8-1de48fbe208f<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>bootstrap3_inline</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/index/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_key</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_safe_web</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_file</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_filename</td><td style="vertical-align:top;">:</td><td><div>/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/sessions/127.0.0.1-e985f3be-1e12-4b8f-a4b8-1de48fbe208f</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>c0762cbf4baf7f9af97c051e7fcb8083</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-e985f3be-1e12-4b8f-a4b8-1de48fbe208f</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_safe_web</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>SAFE_web</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>file</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>default/index.html</div></td></tr></table></div>'
tRp352
sS'locals'
p353
(dp354
S'cursor'
p355
S'<gluon.contrib.pg8000.core.Cursor instance>'
p356
sS'self'
p357
S'<gluon.contrib.pg8000.core.Connection object>'
p358
sg6
S"'Z'"
p359
sS'data_len'
p360
S'5'
sssS'traceback'
p361
S'Traceback (most recent call last):\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/applications/SAFE_web/models/db.py", line 124, in <module>\n    auth.define_tables(username=False, signature=False)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/tools.py", line 2059, in define_tables\n    format=\'%(first_name)s %(last_name)s (%(id)s)\'))\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/base.py", line 834, in define_table\n    table = self.lazy_define_table(tablename,*fields,**args)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/base.py", line 873, in lazy_define_table\n    polymodel=polymodel)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py", line 482, in create_table\n    self.create_sequence_and_triggers(query, table)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/postgres.py", line 94, in create_sequence_and_triggers\n    self.execute(query)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/postgres.py", line 360, in execute\n    return BaseAdapter.execute(self, *a, **b)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py", line 1385, in execute\n    return self.log_execute(*a, **b)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/packages/dal/pydal/adapters/base.py", line 1379, in log_execute\n    ret = self.get_cursor().execute(command, *a[1:], **b)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py", line 573, in execute\n    self._c.execute(self, operation, args)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py", line 1697, in execute\n    self.handle_messages(cursor)\n  File "/Users/dorme/Research/SAFE/Web2Py/web2py/gluon/contrib/pg8000/core.py", line 1774, in handle_messages\n    raise self.error\nProgrammingError: (\'ERROR\', \'3F000\', \'no schema has been selected to create in\')\n'
p362
s.